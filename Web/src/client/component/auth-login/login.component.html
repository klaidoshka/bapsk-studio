<h2 class="text-2xl font-bold mb-4">Login</h2>

<p-dialog header="Reset Password" [(visible)]="showResetDialog" [modal]="true" [closeOnEscape]="true"
          styleClass="max-w-xl w-full dark:bg-primary-950! bg-primary-50!">
  <auth-reset-password/>
</p-dialog>

<form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-4">
  <!-- Email -->
  <div class="w-full">
    <p-floatlabel variant="on" class="w-full">
      <p-iconfield>
        <p-inputicon class="pi pi-envelope"/>
        <input pInputText id="email" formControlName="email" type="email" class="w-full"/>
      </p-iconfield>
      <label for="email">Email</label>
    </p-floatlabel>
    <form-input-error [control]="form.controls.email"/>
  </div>

  <!-- Password -->
  <div class="w-full">
    <p-floatlabel variant="on" class="w-full">
      <p-iconfield>
        <p-inputicon class="pi pi-lock"/>
        <p-password id="password" formControlName="password" inputStyleClass="pl-10! w-full!" class="w-full" styleClass="w-full"
                    toggleMask="true" feedback="false"/>
      </p-iconfield>
      <label for="password">Password</label>
    </p-floatlabel>
    <form-input-error [control]="form.controls.password"/>
  </div>
  <messages-showcase [messages]="messages()"/>
  <p-button title="Login" size="small" type="submit" label="Login" icon="pi pi-check" [disabled]="form.invalid"
            [loading]="isSubmitting()" styleClass="w-full!" class="w-full"/>
</form>
<p class="mt-4 text-sm text-center">Don't have an account yet?</p>
<div class="flex flex-col justify-center items-center">
  <p class="text-center">
    <a routerLink="/auth/register" class="dark:text-indigo-400 text-indigo-600 hover:underline">Register here</a>
  </p>
  <p (click)="showResetDialog.set(true)"
     class="hover:cursor-pointer dark:text-indigo-400 text-indigo-600 hover:underline">
    Reset password
  </p>
</div>
