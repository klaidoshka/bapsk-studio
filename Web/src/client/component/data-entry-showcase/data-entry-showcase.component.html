<div>
  <data-entry-preview/>

  <data-entry-management [dataType]="dataType()"/>

  <p-dialog
    header="Data Entry Import"
    closeOnEscape="true"
    modal="true"
    styleClass="min-w-128"
    closable="true"
    [(visible)]="showImporting"
    (onHide)="showImporting.set(false)"
    (close)="showImporting.set(false)"
  >
    <data-entry-import-form
      [clearImportedValues]="showImporting()"
      [dataType]="dataType()"
    />
  </p-dialog>

  <confirmation
    [key]='"data-entry-delete-confirmation"'
    [header]='"Are you sure about deleting this data entry?"'
  />

  <messages-showcase [messages]="messages()"/>

  <div class="mt-4">
    <p-button
      label="Create"
      icon="pi pi-plus"
      type="button"
      (onClick)="manage()"
    />

    <p-button
      class="ml-1"
      label="Import"
      icon="pi pi-file-import"
      type="button"
      (onClick)="showImporting.set(true)"
    />

    <p-button
      class="ml-1"
      label="Import Configurations"
      icon="pi pi-eye"
      type="button"
      routerLink="../import-configuration"
      [queryParams]="{dataTypeId: dataType().id}"
    />
  </div>

  <div class="card mt-4">
    <data-entry-table
      [dataEntries]="dataEntries()"
      [dataType]="dataType()"
      [delete]="onDelete"
      [manage]="onManage"
      [preview]="onPreview"
    />
  </div>
</div>
