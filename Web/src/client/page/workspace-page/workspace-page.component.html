<div class="h-full w-full">
  <ng-container *ngIf="instanceId() != null">
    <div class="flex h-full">
      <!-- Sidebar -->
      <div
        class="rounded sticky top-0 w-52 dark:bg-surface-950 bg-surface-50 dark:text-primary dark:text-primary text-primary-50 p-4 flex flex-col">
        <div *ngFor="let type of workspacesPart"
             class="w-full p-2 my-1 bg-surface-500 rounded hover:cursor-pointer text-center text-l"
             [class.bg-surface-600]="selectedWorkspace() === type" (click)="selectWorkspace(type)">
          {{ getWorkspaceName(type) }}
        </div>

        <div [class]="'mt-6 rounded' + (selectedWorkspace() === WorkspaceType.DataType ? ' bg-surface-500' : '')">
          <div class="w-full p-2 bg-surface-500 rounded hover:cursor-pointer text-center text-l"
               [class.bg-surface-600]="selectedWorkspace() === WorkspaceType.DataType"
               (click)="selectWorkspace(WorkspaceType.DataType)">
            {{ getWorkspaceName(WorkspaceType.DataType) }}
          </div>

          <div *ngIf="selectedWorkspace() === WorkspaceType.DataType" class="mt-4">
            <p-select [(ngModel)]="selectedDataType" [options]="dataTypes.value() || []" (onChange)="selectDataType($event.value)"
                      optionLabel="name" placeholder="Select..."
                      class="m-1 w-40 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/>
          </div>
        </div>
      </div>

      <!-- Main Content -->
      <div class="h-full flex flex-col p-4">
        <ng-container *ngIf="selectedWorkspace() === WorkspaceType.DataType">
          <h1 class="text-xl font-bold">{{ selectedDataType()?.name }}</h1>

          <data-entry-showcase *ngIf="selectedDataType() !== undefined" [dataEntries]="dataEntries.value() || []"
                               [dataType]="selectedDataType()!"/>

          <div class="mt-2">
            <p-message *ngIf="!selectedDataType()" severity="warn">
              Please select a data type to view and manage its data.
            </p-message>
          </div>
        </ng-container>

        <ng-container *ngIf="selectedWorkspace() === WorkspaceType.Customer">
          <h1 class="text-xl font-bold">Customers</h1>
          <customer-showcase [instanceId]="instanceId()!" [customers]="customers.value() || []"/>
        </ng-container>

        <ng-container *ngIf="selectedWorkspace() === WorkspaceType.Sale">
          <h1 class="text-xl font-bold">Sales</h1>
          <sale-showcase [customers]="customers.value() || []" [instanceId]="instanceId()!" [sales]="sales.value() || []"
                         [salesmen]="salesmen()"/>
        </ng-container>

        <ng-container *ngIf="selectedWorkspace() === WorkspaceType.Salesman">
          <h1 class="text-xl font-bold">Salesmen</h1>
          <salesman-showcase [instanceId]="instanceId()!" [salesmen]="salesmen()"/>
        </ng-container>
      </div>
    </div>
  </ng-container>
</div>
