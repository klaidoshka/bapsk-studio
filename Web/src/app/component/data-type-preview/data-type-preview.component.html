<p-dialog
  header="Data Type Preview"
  closable="true"
  closeOnEscape="true"
  modal="true"
  styleClass="min-w-128"
  (close)="hide()"
  (onHide)="hide()"
  [(visible)]="isShown"
>
  <p class="font-bold">Name</p>
  <p>{{ dataType()?.name }}</p>

  <p class="font-bold mt-4">Description</p>
  <p>{{ dataType()?.description }}</p>

  <p class="font-bold mt-4">Fields</p>
  <p-table [value]="dataType()?.fields || []">
    <ng-template pTemplate="header">
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Required</th>
        <th>Default Value</th>
      </tr>
    </ng-template>

    <ng-template
      pTemplate="body"
      let-field
    >
      <tr>
        <td>{{ field.name }}</td>
        <td>{{ toFieldTypeLabel(field.type) }}</td>
        <td>
          @if (field.isRequired) {
            <p class="text-green-500">Yes</p>
          } @else {
            <p class="text-red-500">No</p>
          }
        </td>
        <td>{{ field.defaultValue }}</td>
      </tr>
    </ng-template>
  </p-table>

  <div class="flex justify-end mt-4">
    <p-button
      label="Close"
      class="p-button-secondary"
      (onClick)="hide()"
    ></p-button>
  </div>
</p-dialog>
