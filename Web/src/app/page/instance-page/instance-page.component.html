<div class="p-4">
  <h1 class="text-2xl font-bold mb-4">Instances</h1>

  <button pButton type="button" label="Create Instance" class="p-button-sm mb-4"
          (click)="openCreation()"></button>
  
  <p-confirm-dialog></p-confirm-dialog>

  <p-table [value]="instances" class="w-full">
    <ng-template pTemplate="header">
      <tr>
        <th>Name</th>
        <th>Description</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-instance>
      <tr>
        <td>{{ instance.name }}</td>
        <td>{{ instance.description }}</td>
        <td>
          <button pButton type="button" label="Edit"
                  class="p-button-rounded p-button-info p-button-sm mr-2"
                  (click)="openEdit(instance)"></button>
          <button pButton type="button" label="Delete"
                  class="p-button-rounded p-button-danger p-button-sm"
                  (click)="deleteInstance(instance)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <p-dialog header="Manage Instance" [(visible)]="displayDialog" [modal]="true"
            [closable]="false" [style]="{width: '30vw'}">
    <div class="p-fluid space-y-4">
      <div class="p-field">
        <label for="name" class="block text-sm font-medium text-gray-700">Name</label>
        <input id="name" type="text" pInputText [(ngModel)]="name"
               class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
      </div>
      <div class="p-field">
        <label for="description" class="block text-sm font-medium text-gray-700">Description</label>
        <textarea id="description" pTextarea [(ngModel)]="description"
                  class="mt-1 block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></textarea>
      </div>
    </div>

    <ng-template pTemplate="footer">
      <button pButton type="button" label="Cancel" class="p-button-text p-button-sm"
              (click)="displayDialog.set(false)"></button>
      <button pButton type="button" label="Save" class="p-button-sm"
              (click)="saveInstance()"></button>
    </ng-template>
  </p-dialog>
</div>
